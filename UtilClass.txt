//UtilsICISSettings.apxc

public class UtilsICISSettings {

    	public  static WcisSearch_Configuration__mdt custommetadata = null;
    //FacetMetaData
    public  static WcisSearch_Configuration__mdt  getFacetmetaData(){
        String ordid= userinfo.getOrganizationId().substring(0,15);
        if(custommetadata == null){
            custommetadata = new WcisSearch_Configuration__mdt();
            try{
                custommetadata = [SELECT id, DisplayName__c, IsSearchable__c, IsVisible__c, FacetListOrder__c FROM WcisSearch_Configuration__mdt
                                 ORDER BY FacetListOrder__c];
                    return custommetadata;
            }
            catch(exception e){
                
            }
        }
        return custommetadata;
    }
    
    //SearchMetadata
     public  static WcisSearch_Configuration__mdt  getSearchmetaData(){
        String ordid= userinfo.getOrganizationId().substring(0,15);
        if(custommetadata == null){
            custommetadata = new WcisSearch_Configuration__mdt();
            try{
                custommetadata = [SELECT id, DisplayName__c, IsSearchable__c, IsVisible__c, FacetListOrder__c FROM WcisSearch_Configuration__mdt
                                 ORDER BY FacetListOrder__c];
                    return custommetadata;
            }
            catch(exception e){
                
            }
        }
        return custommetadata;
    }
    
    public static List<WcisSearch_Configuration__mdt> getwcissearchfieldmapping(){
        try{
            return [SELECT id, DisplayName__c,IsSearchable__c,IsVisible__c, FacetListOrder__c FROM WcisSearch_Configuration__mdt
                                 where IsVisible__c = true];
        }
        catch(exception e){
            return null;
        }
    }
    //FacetMetaDataList
    public  static map<String,WcisSearch_Configuration__mdt>  getFacetmetaDataList(){
        String ordid= userinfo.getOrganizationId().substring(0,15);
        map<String,WcisSearch_Configuration__mdt>   custommetadataMap= new map<String,WcisSearch_Configuration__mdt>();
        if(custommetadata == null){
            custommetadata = new WcisSearch_Configuration__mdt();
            try{
             for(WcisSearch_Configuration__mdt custommetadata : [SELECT id,DeveloperName,Display__c, DisplayName__c, IsSearchable__c, IsVisible__c, FacetListOrder__c,SelectOrder__c FROM WcisSearch_Configuration__mdt
                   ORDER BY FacetListOrder__c]){
                       if(!custommetadataMap.containsKey(custommetadata.DeveloperName)){
                           custommetadataMap.put(custommetadata.DeveloperName,custommetadata);
                       }  
                   }
            }
            catch(exception e){
                
            }
        }
        return custommetadataMap;
    }
    
}